<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Moon Theatre</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');
        
        body {
            background: radial-gradient(circle at center, #0d0000, #000000);
            color: #ff4444;
            font-family: 'Crimson Text', serif;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            animation: subtleFlicker 3s infinite;
            overflow-x: hidden;
        }
        
        @keyframes subtleFlicker {
            0%, 98% { opacity: 1; }
            99% { opacity: 0.95; }
            100% { opacity: 1; }
        }
        
        @keyframes bloodDrip {
            0% { transform: translateY(-10px); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(20px); opacity: 0; }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }
        
        .game-container {
            max-width: 900px;
            margin: 0 auto;
            background: linear-gradient(135deg, rgba(20, 0, 0, 0.95), rgba(40, 0, 0, 0.9));
            border: 3px solid #8b0000;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.3), inset 0 0 20px rgba(0, 0, 0, 0.8);
            position: relative;
        }
        
        .game-container::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 10%;
            width: 20px;
            height: 20px;
            background: #8b0000;
            border-radius: 50%;
            animation: bloodDrip 4s infinite;
        }
        
        .title {
            text-align: center;
            font-family: 'Cinzel', serif;
            font-weight: 600;
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 3px 3px 10px rgba(255, 0, 0, 0.8);
            color: #ff0000;
            animation: shake 0.5s infinite;
            letter-spacing: 2px;
        }
        
        .subtitle {
            text-align: center;
            font-style: italic;
            margin-bottom: 30px;
            color: #ffaaaa;
            font-size: 1.2em;
        }
        
        .scene {
            background: rgba(10, 0, 0, 0.95);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #8b0000;
            line-height: 1.6;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.9);
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            background: linear-gradient(90deg, rgba(139, 0, 0, 0.8), rgba(75, 0, 0, 0.8));
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #ff0000;
        }
        
        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        
        .choice-btn {
            background: linear-gradient(45deg, #8b0000, #660000);
            color: #fff;
            border: 2px solid #ff0000;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(255, 0, 0, 0.3);
            text-align: left;
        }
        
        .choice-btn:hover {
            background: linear-gradient(45deg, #aa0000, #880000);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(255, 0, 0, 0.5);
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
        }
        
        .choice-btn:disabled {
            background: #333;
            cursor: not-allowed;
            transform: none;
        }
        
        .danger {
            color: #ff0000;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.8);
        }
        
        .success {
            color: #00ff00;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(0, 255, 0, 0.8);
        }
        
        .warning {
            color: #ffaa00;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 170, 0, 0.8);
        }
        
        .hidden {
            display: none;
        }
        
        .cultist-speak {
            font-style: italic;
            color: #ff0000;
            background: rgba(255, 0, 0, 0.1);
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #8b0000;
            font-size: 1.1em;
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
        }
        
        .restart-btn {
            background: linear-gradient(45deg, #8b0000, #ff0000);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 20px;
        }
        
        .restart-btn:hover {
            background: linear-gradient(45deg, #ff0000, #ff4444);
        }
        
        .horror-text {
            color: #ff0000;
            font-weight: bold;
            text-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
        }
        
        .whisper {
            font-size: 0.9em;
            color: #888;
            font-style: italic;
        }
        
        .scream {
            font-family: 'Cinzel', serif;
            font-weight: 600;
            font-size: 1.5em;
            color: #ff0000;
            text-shadow: 0 0 10px rgba(255, 0, 0, 1);
            animation: shake 0.3s infinite;
            letter-spacing: 1px;
        }
        
        .blood-text {
            color: #8b0000;
            font-weight: bold;
        }
        
        .jump-scare {
            animation: shake 0.2s ease-in-out 0s 5;
            background: rgba(255, 0, 0, 0.3) !important;
            border: 3px solid #ff0000 !important;
        }
        
        .gore-warning {
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid #ff0000;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        
        @media (max-width: 600px) {
            .title {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="title">BLOOD MOON THEATRE</div>
        <div class="subtitle">"The Flesh Remembers What the Mind Forgets"</div>
        
        <div class="gore-warning">
            <p class="horror-text">⚠️ WARNING: EXTREME HORROR CONTENT ⚠️</p>
            <p class="whisper">This experience contains graphic violence, gore, and disturbing imagery</p>
        </div>
        
        <div class="status-bar">
            <span>Terror: <span id="suspicion" class="danger">0/100</span></span>
            <span>Survival: <span id="survival">100/100</span></span>
            <span>Hour: <span id="round">1</span></span>
        </div>
        
        <div id="game-content">
            <div class="scene" id="intro-scene">
                <p>You regain consciousness on a cold, sticky floor that reeks of copper and decay. The metallic taste of blood fills your mouth, and you realize with growing horror that <span class="horror-text">chunks of flesh are stuck between your teeth</span>. Around you, ancient theatre seats are stained with dark, dried substances that still glisten wetly in the candlelight.</p>
                
                <p>On stage, <span class="horror-text">grotesque figures in rotting animal pelts</span> perform a ritual around a stone altar. Fresh entrails spill from its edges, and you can see the twitching remains of what was once human. A figure wearing a fox skull turns toward you, maggots spilling from its empty eye sockets.</p>
                
                <p class="cultist-speak">"New meat has awakened... the harvest shall continue."</p>
                
                <p>Horror floods through you as you realize the "audience" around you are not wearing masks—<span class="horror-text">their faces have been surgically replaced with animal heads, flesh rotting and peeling at the seams</span>. One turns to you, revealing where its jaw has been sawed off and replaced with a crow's beak. You notice with growing dread that <span class="scream">you still have your human face... for now</span>.</p>
                
                <p class="blood-text">The fox-skull figure raises a rusty bone saw, its teeth caked with dried brain matter. "Soon, you will be beautiful like us. The transformation is... exquisite."</p>
            </div>
            
            <div class="scene hidden" id="question-scene">
                <h3 class="horror-text" id="question-title">The Ritual Begins</h3>
                <p id="question-text">Choose your response carefully - wrong answers lead to immediate... modifications.</p>
                
                <div class="choices" id="question-choices">
                    <!-- Choices will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="scene hidden" id="result">
                <div id="result-content"></div>
                <button class="choice-btn" onclick="nextRound()" id="continue-btn">Descend Deeper</button>
            </div>
            
            <div class="scene hidden" id="game-over">
                <div id="game-over-content"></div>
                <button class="restart-btn" onclick="restartGame()">Begin Another Nightmare</button>
            </div>
        </div>
        
        <button class="choice-btn" onclick="startGame()" id="start-btn">Enter the Theatre of Blood</button>
    </div>

    <script>
        let gameState = {
            suspicion: 0,
            survival: 100,
            round: 1,
            currentQuestionIndex: 0,
            questions: [
                {
                    title: "The Fox-Skull's First Test",
                    text: "The fox-skull creature approaches with a tray of surgical instruments. <span class='horror-text'>Fresh blood drips from each tool</span>. It speaks: 'Choose your instrument of enlightenment, new flesh.'",
                    choices: [
                        { text: "🔪 The bone saw (still warm with use)", correct: true, response: "The fox-skull nods approvingly. 'You understand the beauty of separation. Good.'" },
                        { text: "🪓 The rusty hatchet (chunks of scalp still attached)", correct: false, response: "The fox-skull shrieks! 'Crude tools for crude minds!' Your left pinky is severed as punishment." },
                        { text: "⚰️ The embalming needle (dripping formaldehyde)", correct: true, response: "A wise choice. 'Preservation before transformation,' the creature whispers approvingly." },
                        { text: "🔥 Refuse to choose", correct: false, response: "Your hesitation costs you dearly. The creature's claws rake across your face, leaving deep gouges." }
                    ]
                },
                {
                    title: "The Altar's Demand",
                    text: "You are led to the altar where <span class='horror-text'>a still-beating human heart sits in a pool of steaming blood</span>. Around it, various organs twitch with unnatural life. The cultists chant: 'Feed the altar, join the collective.'",
                    choices: [
                        { text: "🫀 Touch the beating heart", correct: true, response: "The heart's rhythm synchronizes with yours. Power flows through you as the cultists nod." },
                        { text: "🧠 Examine the exposed brain nearby", correct: false, response: "The brain suddenly screams! Its shriek pierces your eardrums, blood pours from your ears." },
                        { text: "👁️ Look into the collection of eyeballs", correct: false, response: "The eyes all turn to stare at you simultaneously. You feel your sanity slipping away." },
                        { text: "🩸 Drink from the blood pool", correct: true, response: "The metallic taste brings visions of truth. You see the theatre's dark history unfold." }
                    ]
                },
                {
                    title: "The Transformation Chamber",
                    text: "You descend into the theatre's basement where <span class='horror-text'>dozens of surgery tables are occupied by writhing, half-transformed victims</span>. Their screams echo endlessly. A creature with a deer skull asks: 'What flesh would you trade for enlightenment?'",
                    choices: [
                        { text: "👂 Offer your ears ('Hearing is overrated')", correct: true, response: "The deer-skull carefully removes your ears with practiced skill. The silence is... peaceful." },
                        { text: "👁️ Offer your eyes ('Vision clouds truth')", correct: false, response: "Wrong choice! Your eyes are burned out with hot pokers, but you're kept barely alive." },
                        { text: "👅 Offer your tongue ('Speech is weakness')", correct: true, response: "Your tongue is severed with surgical precision. Blood flows, but you feel... liberated." },
                        { text: "🤚 Try to escape", correct: false, response: "Foolish! Your legs are shattered with hammers, ensuring you'll never run again." }
                    ]
                },
                {
                    title: "The Bone Garden",
                    text: "Deep beneath the theatre lies a garden of human bones arranged in twisted trees. <span class='horror-text'>Skulls hang like fruit, and femurs form grotesque branches</span>. The gardener, a figure with multiple faces sewn together, asks: 'Which tree bears the sweetest fruit?'",
                    choices: [
                        { text: "🌳 The tree of children's bones", correct: false, response: "You monster! The gardener flays strips of skin from your back as punishment for your evil." },
                        { text: "💀 The skull tree (adult victims)", correct: true, response: "The gardener smiles with all its faces. 'Wisdom in your choice. These deaths had meaning.'" },
                        { text: "🦴 The tree of sacrifice (willing victims)", correct: true, response: "Perfect! The gardener grants you a skull to carry - a token of understanding." },
                        { text: "🔥 Burn the entire garden", correct: false, response: "Sacrilege! Your hands are dipped in molten metal, fusing your fingers together permanently." }
                    ]
                },
                {
                    title: "The Mirror of Truth",
                    text: "You find yourself before an ancient mirror that shows not your reflection, but <span class='horror-text'>what you will become after complete transformation</span>. The image is horrifying yet strangely beautiful. A voice echoes: 'Do you accept your true form?'",
                    choices: [
                        { text: "🪞 Embrace the reflection", correct: true, response: "You feel your bones beginning to reshape. The pain is exquisite as your true form emerges." },
                        { text: "💔 Reject your destiny", correct: false, response: "The mirror shatters, each shard cutting deep into your flesh. You bleed from a thousand wounds." },
                        { text: "👹 Ask to see more transformations", correct: true, response: "The mirror shows you the beauty of all possible forms. You understand the gift being offered." },
                        { text: "🔨 Try to destroy the mirror", correct: false, response: "The mirror is unbreakable! Your fists are pulverized against its surface, bones jutting through skin." }
                    ]
                },
                {
                    title: "The Final Choice",
                    text: "You stand before the Master of the Theatre, a towering figure whose body is a patchwork of hundreds of different victims. <span class='horror-text'>Eyes blink from its chest, mouths whisper from its arms</span>. It speaks with a thousand voices: 'Join us willingly, or be harvested slowly.'",
                    choices: [
                        { text: "🙏 Kneel and accept transformation", correct: true, response: "Excellent! Your transformation begins immediately. You feel yourself becoming something beautiful and terrible." },
                        { text: "⚔️ Challenge the Master to combat", correct: false, response: "Foolish! You are torn apart slowly, your screams adding to its symphony of voices." },
                        { text: "🤝 Offer to help with future victims", correct: true, response: "The Master smiles with dozens of mouths. 'A true partner in our work of art.'" },
                        { text: "🏃 Make one final escape attempt", correct: false, response: "There is no escape from perfection! Your spine is severed, and you're kept as a living decoration." }
                    ]
                }
            ],
            horrorEvents: [
                "A child's fingernail scratches at the underside of the floorboards...",
                "You feel something wet dripping on your head - looking up reveals a corpse nailed to the ceiling...",
                "Your reflection in a nearby puddle of blood shows someone else's face staring back...",
                "The temperature drops suddenly as the breath of the dead whispers past your ear...",
                "A severed hand crawls across the floor, leaving bloody fingerprints in its wake...",
                "You hear your own voice screaming from somewhere deeper in the theatre...",
                "The walls begin to bleed fresh blood that spells out your name...",
                "A figure identical to you walks past, but they're missing their skin...",
                "You realize you've been unconsciously humming along to the screams of the tortured..."
            ]
        };

        function updateDisplay() {
            document.getElementById('suspicion').textContent = `${gameState.suspicion}/100`;
            document.getElementById('survival').textContent = `${gameState.survival}/100`;
            document.getElementById('round').textContent = gameState.round;
            
            if (gameState.suspicion >= 80) {
                document.getElementById('suspicion').className = 'danger scream';
            } else if (gameState.suspicion >= 50) {
                document.getElementById('suspicion').className = 'warning';
            }
            
            if (gameState.survival <= 20) {
                document.getElementById('survival').className = 'danger scream';
            } else if (gameState.survival <= 50) {
                document.getElementById('survival').className = 'warning';
            } else {
                document.getElementById('survival').className = 'success';
            }
        }

        function triggerJumpScare() {
            const container = document.querySelector('.game-container');
            container.classList.add('jump-scare');
            setTimeout(() => {
                container.classList.remove('jump-scare');
            }, 1000);
        }

        function addHorrorEvent() {
            if (Math.random() < 0.6) {
                const event = gameState.horrorEvents[Math.floor(Math.random() * gameState.horrorEvents.length)];
                return `<p class="whisper horror-text">${event}</p>`;
            }
            return '';
        }

        function startGame() {
            document.getElementById('start-btn').style.display = 'none';
            document.getElementById('intro-scene').classList.add('hidden');
            document.getElementById('question-scene').classList.remove('hidden');
            showCurrentQuestion();
            triggerJumpScare();
        }

        function showCurrentQuestion() {
            const question = gameState.questions[gameState.currentQuestionIndex];
            document.getElementById('question-title').innerHTML = question.title;
            document.getElementById('question-text').innerHTML = question.text + addHorrorEvent();
            
            const choicesContainer = document.getElementById('question-choices');
            choicesContainer.innerHTML = '';
            
            question.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.innerHTML = choice.text;
                button.onclick = () => makeChoice(index);
                choicesContainer.appendChild(button);
            });
        }

        function makeChoice(choiceIndex) {
            const question = gameState.questions[gameState.currentQuestionIndex];
            const choice = question.choices[choiceIndex];
            let resultText = '';
            let suspicionChange = 0;
            let survivalChange = 0;
            
            if (choice.correct) {
                suspicionChange = -5;
                survivalChange = Math.random() > 0.5 ? -5 : 0; // Sometimes even correct choices have consequences
                resultText = `<span class="success">✓ ACCEPTED!</span> ${choice.response}`;
            } else {
                suspicionChange = 20;
                survivalChange = -15;
                triggerJumpScare();
                resultText = `<span class="danger scream">✗ WRONG CHOICE!</span> ${choice.response}`;
            }
            
            gameState.suspicion = Math.max(0, Math.min(100, gameState.suspicion + suspicionChange));
            gameState.survival = Math.max(0, Math.min(100, gameState.survival + survivalChange));
            
            if (gameState.survival <= 0) {
                gameOver('<span class="scream">YOUR BODY FAILS!</span><br><br>The accumulated damage is too much. You collapse as your life ebbs away, becoming just another decoration in the theatre of horrors...<br><br><span class="blood-text">Your corpse will serve the theatre well.</span>');
                return;
            }
            
            if (gameState.suspicion >= 100) {
                gameOver('<span class="scream">THEY KNOW YOU DON\'T BELONG!</span><br><br>The cultists surge forward with surgical instruments gleaming. Your screams echo through the theatre as they begin your involuntary transformation...<br><br><span class="blood-text">Your face will make a beautiful addition to their collection.</span>');
                return;
            }
            
            document.getElementById('result-content').innerHTML = 
                `<h3 class="horror-text">Hour ${gameState.round} - The Horror Deepens</h3>` +
                `<p>${resultText}</p>` +
                `<div class="blood-text">` +
                `<p>Terror: ${suspicionChange >= 0 ? '+' : ''}${suspicionChange}</p>` +
                `<p>Survival: ${survivalChange >= 0 ? '+' : ''}${survivalChange}</p>` +
                `</div>` +
                addHorrorEvent();
            
            document.getElementById('question-scene').classList.add('hidden');
            document.getElementById('result').classList.remove('hidden');
            
            updateDisplay();
        }

        function nextRound() {
            gameState.round++;
            gameState.currentQuestionIndex++;
            
            if (gameState.currentQuestionIndex >= gameState.questions.length) {
                victory();
                return;
            }
            
            document.getElementById('result').classList.add('hidden');
            document.getElementById('question-scene').classList.remove('hidden');
            showCurrentQuestion();
        }

        function victory() {
            triggerJumpScare();
            const winText = `
                <h2 class="success horror-text">🎭 TRANSFORMATION COMPLETE 🎭</h2>
                <p class="horror-text">You have proven worthy of the ultimate gift...</p>
                <p class="blood-text">The Master approaches with the final surgical instruments. Your screams of agony transform into moans of ecstasy as your flesh is reshaped into something magnificent and terrible.</p>
                <p class="cultist-speak">"Welcome to eternity, beautiful one. Your suffering has ended... but your service has just begun."</p>
                <p class="horror-text">As the last of your human flesh is carved away, you realize you can no longer remember why you ever wanted to leave. You are home now, among the beautiful monsters.</p>
                <p class="whisper">Looking in the mirror, you see your new face - a masterpiece of horror and beauty combined.</p>
                <p><strong class="blood-text">Final Transformation Stats:</strong></p>
                <p>Terror Endured: ${gameState.suspicion}/100</p>
                <p>Survival: ${gameState.survival}/100</p>
                <p>Hours in Hell: ${gameState.round}</p>
                <p class="scream">You are beautiful now. Forever.</p>
            `;
            
            document.getElementById('game-over-content').innerHTML = winText;
            document.getElementById('question-scene').classList.add('hidden');
            document.getElementById('result').classList.add('hidden');
            document.getElementById('game-over').classList.remove('hidden');
        }

        function gameOver(reason) {
            triggerJumpScare();
            const loseText = `
                <h2 class="danger scream">💀 THE THEATRE CLAIMS ANOTHER 💀</h2>
                <p class="horror-text">${reason}</p>
                <p class="blood-text">Your screams join the eternal symphony of the damned. The theatre feeds on your terror, growing stronger with each victim...</p>
                <p><strong class="blood-text">Final Moments:</strong></p>
                <p>Terror Level: ${gameState.suspicion}/100</p>
                <p>Survival: ${gameState.survival}/100</p>
                <p>Hours Survived: ${gameState.round}</p>
                <p class="whisper horror-text">Your body becomes part of the theatre's decoration, a warning to future victims...</p>
                <p class="scream">The show must go on... will you return for another performance?</p>
            `;
            
            document.getElementById('game-over-content').innerHTML = loseText;
            document.getElementById('question-scene').classList.add('hidden');
            document.getElementById('result').classList.add('hidden');
            document.getElementById('game-over').classList.remove('hidden');
        }

        function restartGame() {
            gameState = {
                suspicion: 0,
                survival: 100,
                round: 1,
                currentQuestionIndex: 0,
                questions: gameState.questions, // Keep the same questions
                horrorEvents: gameState.horrorEvents // Keep the same horror events
            };
            
            document.getElementById('game-over').classList.add('hidden');
            document.getElementById('intro-scene').classList.remove('hidden');
            document.getElementById('start-btn').style.display = 'block';
            updateDisplay();
        }

        // Initialize display
        updateDisplay();

        // Enhanced horror ambience
        setInterval(() => {
            if (Math.random() < 0.15) {
                document.body.style.animation = 'subtleFlicker 0.1s ease-in-out';
                setTimeout(() => {
                    document.body.style.animation = 'subtleFlicker 3s infinite';
                }, 100);
            }
        }, 3000);
    </script>
</body>
</html>
